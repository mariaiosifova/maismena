name: üöÄ Deploy to Reg.ru

on:
  push:
    branches: [ "main" ] # –ó–∞–ø—É—Å–∫–∞—Ç—å –¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É main

jobs:
  deploy:
    name: üéâ Deploy
    runs-on: ubuntu-latest

    steps:
    - name: üöö Get latest code
      uses: actions/checkout@v4

    # (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û) –ï—Å–ª–∏ –≤–∞—à —Å–∞–π—Ç —Ç—Ä–µ–±—É–µ—Ç —Å–±–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Node.js, Laravel)
    # - name: üì¶ Install dependencies
    #   run: npm install

    # - name: üî® Build project
    #   run: npm run build

    - name: üìÇ Sync files via FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.4
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        port: ${{ secrets.FTP_PORT }}
        local-dir: ./ # –ü–∞–ø–∫–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É —Å–±–æ—Ä–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä 'dist/')
        server-dir: ${{ secrets.FTP_REMOTE_PATH }}
